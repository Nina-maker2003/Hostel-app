<!DOCTYPE html>
<html>
<head>
  <title>裏口パスワード</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- メニューボタン -->
  <div class="menu-button" id="menuButton" onclick="toggleMenu()">
    <div class="menu-icon">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div class="menu-text">MENU</div>
  </div>

  <!-- メニューコンテナ -->
  <div class="menu-container" id="menuContainer" onclick="closeMenuOnOutsideClick(event)">
    <div class="menu-items">
      <div class="menu-title">メニュー（Menu）</div>
      <div class="menu-item active" onclick="changePage('passwordPage')">パスワード照会<br><small>Check Password</small></div>
      <div class="menu-item" onclick="changePage('extendStayPage')">延泊リクエスト<br><small>Extend Your Stay</small></div>
      <div class="menu-item" onclick="changePage('requestsPage')">各種リクエスト<br><small>Service Requests</small></div>
    </div>
  </div>

  <!-- パスワード照会ページ -->
  <div id="passwordPage" class="page active">
    <h1>裏口パスワード<br><small>Back Door Password</small></h1>
    <p>予約番号(-を含める）と部屋番号をご入力ください。<br>
    <small>Please enter your reservation number (include "-" if it's part of it) and room number</small></p>
    <div class="form-group">
      <input type="text" id="name" placeholder="予約番号 / Reservation Number" autocomplete="off">
    </div>
    <div class="form-group">
      <input type="text" id="roomNumber" placeholder="部屋番号 / Room Number (例: 2F01)" autocomplete="off">
    </div>
    <button onclick="checkCredentials()">パスワードを表示 / Check Password</button>
    <div id="loading" style="display: none;">
      <div class="spinner"></div>
      <p>確認中...</p>
    </div>
    <div id="result"></div>

    <!-- フィードバックフォーム -->
    <div class="feedback-container">
      <span class="feedback-toggle" onclick="toggleFeedbackForm()">サイトの問題を報告する / Report a website issue </span>
      <div id="feedbackForm" style="display: none;">
        <h3>フィードバック / Feedback</h3>
        <div class="form-group">
          <textarea id="feedbackText" placeholder="エラーの内容や改善点などをご記入ください（150文字以内） / Please enter your feedback on this system (up to 150 characters)" maxlength="150"></textarea>
        </div>
        <button onclick="submitFeedback()">送信 / Submit Feedback</button>
        <div id="feedbackResult"></div>
      </div>
    </div>
  </div>

  <!-- 延泊リクエストページ -->
  <!-- input id を変えるかも-->

  <div id="extendStayPage" class="page">
    <h1>延泊リクエスト<br><small>Extend Your Stay</small></h1>
    <p><strong>新パスワード発行のために</strong>延泊予約完了後に、お客様のメールアドレスと現在の部屋番号をご入力ください。<br>
    <small>[<strong>To get your new password</strong>, please enter your Email address and current room number <strong>after</strong> making an extension reservation]</small></p>
    
    <div class="form-group">
      <input type="text" id="extendReservationNumber" placeholder="メールアドレス / Email Address" autocomplete="off">
    </div>
    <div class="form-group">
      <input type="text" id="extendRoomNumber" placeholder="部屋番号 / Room Number (例: 2F01)" autocomplete="off">
    </div>
    <button onclick="submitExtendStayRequest()">送信 / Submit</button>
    <div id="extendStayResult"></div>
    
    <!-- 延泊予約ガイド -->
    <!-- 文章変更の必要性あり -->

    <div class="extend-guide">
      <h3>延泊予約の仕方 / How to extend your stay</h3>
      <ol>
        <li><a href="https://go-tomariyaueno.reservation.jp/ja" target="_blank">公式サイト</a>の延泊専用プランにて新規予約<br>
            <small>Make a new reservation through the extension plan on our <a href="https://go-tomariyaueno.reservation.jp/en" target="_blank">official website</a></small>
        </li>
        <li>お客様が<span class="underline_black">前回利用された予約サイト</span>より新規予約<br>
            <small>Make a new reservation through <span class="underline_black">the same booking site you used last time</span></small>
        </li>
      </ol>

      <p class="instruction-note">⇒予約完了後に、上記のリクエストを送信！<br>
        <small>⇒After completing your reservation, please submit the request above!</small></p>
      <p class="important-notice">★チェックイン開始時刻(15:00)までに<strong>お客様が入力されたメールアドレス宛</strong>に新パスワードが送信されます。</p> 
            <small>★The new password will be sent to <strong>the Email address you entered above</strong> by the check-in time (3:00 PM).</small>
    </div>   
    </div>
  </div>

  <!-- リクエストページ（メインメニュー） -->
  <div id="requestsPage" class="page">
    <h1>各種リクエスト<br><small>Service Requests</small></h1>
    
    <!-- リクエストボタン一覧 -->
    <div class="request-buttons">
      <div class="request-button" onclick="showRequestSubpage('cleaning')">
        ① 清掃リクエスト（4日以上宿泊の方）<br><small>Cleaning request(only for those staying over 4 days)</small>
      </div>
      <div class="request-button" onclick="showRequestSubpage('other')">
        ② その他リクエスト<br><small>Other requests</small>
      </div>
    </div>
    
    <!-- 清掃リクエストのサブページ -->
    <div id="cleaningPage" class="request-subpage">
      <div class="back-button" onclick="hideRequestSubpages()">← 戻る / Back</div>
      <h2>清掃リクエスト<br><small>Cleaning request</small></h2>
      <p>ただいま工事中です。<br><small>under construction:)</small></p>
    </div>
    
    <!-- その他リクエストのサブページ -->
    <div id="otherPage" class="request-subpage">
      <div class="back-button" onclick="hideRequestSubpages()">← 戻る / Back</div>
      <h2>その他リクエスト<br><small>Other requests</small></h2>
      <p>ただいま工事中です。<br><small>under construction:)</small></p>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>