<!DOCTYPE html>
<html>
<head>
  <title>裏口パスワード</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- メニューボタン -->
  <div class="menu-button" id="menuButton" onclick="toggleMenu()">
    <div class="menu-icon">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div class="menu-text">MENU</div>
  </div>

  <!-- メニューコンテナ -->
  <div class="menu-container" id="menuContainer" onclick="closeMenuOnOutsideClick(event)">
    <div class="menu-items">
      <div class="menu-title">メニュー（Menu）</div>
      <div class="menu-item active" onclick="changePage('passwordPage')">パスワード照会<br><small>Check Password</small></div>
      <div class="menu-item" onclick="changePage('extendStayPage')">延泊リクエスト<br><small>Extend Your Stay</small></div>
      <div class="menu-item" onclick="changePage('requestsPage')">各種リクエスト<br><small>Service Requests</small></div>
    </div>
  </div>

  <!-- パスワード照会ページ -->
  <div id="passwordPage" class="page active">
    <h1>裏口パスワード<br><small>Back Door Password</small></h1>
    <p>予約番号(-を含める）と部屋番号をご入力ください。<br>
    <small>Please enter your reservation number (include "-" if it's part of it) and room number</small></p>
    <div class="form-group">
      <input type="text" id="name" placeholder="予約番号 / Reservation Number" autocomplete="off">
    </div>
    <div class="form-group">
      <input type="text" id="roomNumber" placeholder="部屋番号 / Room Number (例: 2F01)" autocomplete="off">
    </div>
    <button onclick="checkCredentials()">パスワードを表示 / Check Password</button>
    <div id="loading" style="display: none;">
      <div class="spinner"></div>
      <p>確認中...</p>
    </div>
    <div id="result"></div>

     <!-- 延泊パスワードセクション（新規追加） -->
     <div class="password-section">
      <h1>延泊パスワード<br><small>Extended Stay Password</small></h1>
      <p>新規予約番号と現在の部屋番号をご入力ください。<br>
      <small>Please enter your new reservation number and current room number</small></p>
      <div class="form-group">
        <input type="text" id="extendPasswordReservation" placeholder="予約番号 / Reservation Number" autocomplete="off">
      </div>
      <div class="form-group">
        <input type="text" id="extendPasswordRoomNumber" placeholder="部屋番号 / Room Number (例: 2F01)" autocomplete="off">
      </div>
      <button onclick="checkExtendPasswordCredentials()">パスワードを表示 / Check Password</button>
      <div id="extendPasswordLoading" style="display: none;">
        <div class="spinner"></div>
        <p>確認中...</p>
      </div>
      <div id="extendPasswordResult"></div>
    </div>

    <!-- フィードバックフォーム -->
    <div class="feedback-container">
      <span class="feedback-toggle" onclick="toggleFeedbackForm()">問題を報告する / Report an issue</span>
      <div id="feedbackForm" style="display: none;">
        <h3>フィードバック / Feedback</h3>
        <div class="form-group">
          <textarea id="feedbackText" placeholder="エラーの内容や改善点などをご記入ください（200文字以内） / Please enter your feedback (up to 200 characters)" maxlength="200"></textarea>
        </div>
        <button onclick="submitFeedback()">送信 / Submit Feedback</button>
        <div id="feedbackResult"></div>
      </div>
    </div>
  </div>

  <!-- 延泊リクエストページ -->
  <div id="extendStayPage" class="page">
    <h1>延泊リクエスト<br><small>Extend Your Stay</small></h1>
    <p><span class="emphasis">新パスワード発行のために</span>延泊予約完了後に、新規予約の予約番号とお客様の部屋番号をご入力ください。<br>
    <small>[<span class="emphasis">To get your new password</span>, please enter your new reservation number and current room number <span class="emphasis">after</span> making an extension reservation]</small></p>
    
    <div class="form-group">
      <input type="text" id="extendReservationNumber" placeholder="予約番号 / Reservation Number" autocomplete="off">
    </div>
    <div class="form-group">
      <input type="text" id="extendRoomNumber" placeholder="部屋番号 / Room Number (例: 2F01)" autocomplete="off">
    </div>
    <button onclick="submitExtendStayRequest()">送信 / Submit</button>
    <div id="extendStayResult"></div>
    
    <!-- 延泊予約ガイド -->
    <div class="extend-guide">
      <h3>延泊予約の仕方 / How to extend your stay</h3>
      <ol>
        <li><a href="https://go-tomariyaueno.reservation.jp/ja" target="_blank">公式サイト</a>の延泊専用プランにて新規予約<br>
            <small>Make a new reservation through the extension plan on our <a href="https://go-tomariyaueno.reservation.jp/en" target="_blank">official website</a></small>
        </li>
        <li>お客様が前回利用された予約サイトより新規予約<br>
            <small>Make a new reservation through the same booking site you used last time</small>
        </li>
      </ol>
      <p class="important-notice">★チェックイン開始時刻(15:00)までに<strong>メニュー＞パスワード照会</strong>にて新パスワードを確認できるようになります。</p> 
            <small>★The new password will be available via <strong>Menu > Check Password</strong> by the check-in time (3:00 PM).</small>
    </div>   
    </div>
  </div>

  <!-- リクエストページ（メインメニュー） -->
  <div id="requestsPage" class="page">
    <h1>各種リクエスト<br><small>Service Requests</small></h1>
    
    <!-- リクエストボタン一覧 -->
    <div class="request-buttons">
      <div class="request-button" onclick="showRequestSubpage('cleaning')">
        ① 清掃リクエスト（4日以上宿泊の方）<br><small>Cleaning request(only for those staying over 4 days)</small>
      </div>
      <div class="request-button" onclick="showRequestSubpage('other')">
        ② その他リクエスト<br><small>Other requests</small>
      </div>
    </div>
    
    <!-- 清掃リクエストのサブページ -->
    <div id="cleaningPage" class="request-subpage">
      <div class="back-button" onclick="hideRequestSubpages()">← 戻る / Back</div>
      <h2>清掃リクエスト<br><small>Cleaning request</small></h2>
      <p>ただいま工事中です。<br><small>under construction:)</small></p>
    </div>
    
    <!-- その他リクエストのサブページ -->
    <div id="otherPage" class="request-subpage">
      <div class="back-button" onclick="hideRequestSubpages()">← 戻る / Back</div>
      <h2>その他リクエスト<br><small>Other requests</small></h2>
      <p>ただいま工事中です。<br><small>under construction:)</small></p>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>